<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        class LinkedList {
            constructor() {
                this.head = null;
                this.length = 0;
            }

            print() {
                let output = '';
                let current = this.head;
                while (current) {
                    output = `${output}${current.value} -> `;
                    current = current.next;
                }
                console.log(`${output}null`);
            }

            at(index) {
                if (index < 0) return null;
                if (index == 0) return this.head;


                let current = this.head;
                for (let i = 0; i < index; i++) {
                    current = current.next;
                }
                return current;
            }

            prepend(value) {
                let newNode = new Node(value, this.head)
                this.head = newNode;
                this.length++;
            }

            append(value) {
                let newNode = new Node(value, null);

                if (this.head == null) {
                    this.head = newNode;
                    return this.head;
                }

                let tail = this.head;
                while (tail.next !== null) {
                    tail = tail.next;
                }
                tail.next = newNode;
                this.length++;
            }

            size() {
                let size = 0;
                let current = this.head;
                if (current == null) {
                    return "This list has 0 nodes!"
                }
                while (current !== null) {
                    current = current.next;
                    size++;
                }
                return `This list has ${size} nodes`;
            }

            firstNode() {
                return this.head;
            }

            tail() {
                let index = this.length;
                return `The last node's value is ${ll.at(index).value}`;
            }

            pop() {
                let newLast = ll.at(this.length - 1);
                newLast.next = null;
                this.length--;
            }

            contains(data) {
                
                let current = this.head;

                for (let i = 0; i <= this.length; i++) {
                    if (current.value == data) {
                        return true;
                        break;
                    }
                    
                    else {
                        current = current.next;
                        
                    }
                }

                if (current == null) {
                    return false;
                }
                
            }

            find(data) {
                let current = this.head;
                for (let i = 0; i <= this.length; i++) {
                    if (current.value == data) {
                        return i;
                        break;
                    }
                    current = current.next;

                }
                if (current == null) {
                        return null;
                    }
            }

            insertAt(value, index) {

                if (index == 0) {
                    ll.prepend(value)
                }
                else {

                    let prev = this.head;
                    for (let i = 0; i < index - 1; i++) {
                        prev = prev.next
                    }

                    prev.next = new Node(value, prev.next)
                    this.length++;
                }
            }

            removeAt(index) {

                let prev = this.head;

                if (index == 0) {
                   this.head = prev.next;
                   this.length--;
                    
                }

                else {
                    
                    for (let i = 0; i < index - 1; i++) {

                        prev = prev.next;
                    }

                    prev.next = prev.next.next;
                    this.length--;
                }
                
                
            }
        }


        class Node {
            constructor(value, next) {
                this.value = value;
                this.next = next;
            }
        }


        const ll = new LinkedList()
        
        ll.append(10);
        ll.append(20);
        ll.append(30);
        ll.prepend(5);
        ll.print();
        ll.removeAt(4);
        ll.print();
        


    </script>
</body>
</html>